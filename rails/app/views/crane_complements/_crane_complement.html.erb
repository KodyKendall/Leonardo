<%= turbo_frame_tag dom_id(crane_complement) do %>
  <div class="card bg-base-100 shadow-md p-6 mb-6"
       data-controller="crane-complement dirty-form"
       data-action="input->dirty-form#change change->dirty-form#change turbo:submit-end->dirty-form#reset">
    
    <%= form_with model: crane_complement, data: { action: "turbo:submit-end->crane-complement#resetAfterSave" } do |f| %>

      <h2 class="card-title text-lg mb-4">
        Crane Bracket: <%= crane_complement.area_min_sqm %>m² to <%= crane_complement.area_max_sqm %>m²
      </h2>

      <div class="flex gap-2 mb-4 items-center">
        <%= f.number_field :area_min_sqm, step: 0.01, class: "input input-bordered flex-1", disabled: true, data: { "crane-complement-target": "field" }, placeholder: "Area Min (m²)" %>
        <%= f.number_field :area_max_sqm, step: 0.01, class: "input input-bordered flex-1", disabled: true, data: { "crane-complement-target": "field" }, placeholder: "Area Max (m²)" %>
        <%= f.text_field :crane_recommendation, class: "input input-bordered flex-1", disabled: true, data: { "crane-complement-target": "field" }, placeholder: "Crane Recommendation" %>
        <%= f.number_field :default_wet_rate_per_day, step: 0.01, class: "input input-bordered flex-1", disabled: true, data: { "crane-complement-target": "field" }, placeholder: "Wet Rate Per Day (R)" %>

        <!-- Unsaved Changes Indicator -->
        <span class="text-warning text-sm font-semibold hidden" data-dirty-form-target="indicator">
          ⚠
        </span>

        <!-- Edit/Save Icon Button (pencil -> checkmark) -->
        <button type="button" class="btn btn-ghost btn-sm" data-crane-complement-target="editButton" data-action="click->crane-complement#toggleEdit">
          <i class="fas fa-pencil"></i>
        </button>

        <!-- Delete Icon Button -->
        <%= link_to crane_complement, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-ghost btn-sm", data: { "crane-complement-target": "deleteButton" } do %>
          <i class="fas fa-trash"></i>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
