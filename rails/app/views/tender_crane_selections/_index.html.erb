<%# Reusable index list partial for tender_crane_selections %>
<%# Renders the list of selections with inline editing capabilities and summary %>
<%# Parameters: tender_crane_selections (array), on_site_mobile_crane_breakdown (object) %>

<div id="tender_crane_selections">
  <% if tender_crane_selections.any? %>
    <!-- Column Headers -->
    <div class="flex gap-2 mb-4 px-2">
      <div class="form-group flex-1 text-xs font-bold text-gray-700 uppercase tracking-wider">Tender</div>
      <div class="form-group flex-1 text-xs font-bold text-gray-700 uppercase tracking-wider">Crane</div>
      <div class="form-group flex-1 text-xs font-bold text-gray-700 uppercase tracking-wider">Purpose</div>
      <div class="form-group flex-1 text-xs font-bold text-gray-700 uppercase tracking-wider">Qty</div>
      <div class="form-group flex-1 text-xs font-bold text-gray-700 uppercase tracking-wider">Days</div>
      <div class="form-group flex-1 text-xs font-bold text-gray-700 uppercase tracking-wider">Wet Rate (R) <span class="tooltip tooltip-top" data-tip="Wet Rate per Day"><i class="fas fa-info-circle text-gray-400 cursor-help"></i></span></div>
      <div class="form-group flex-1 text-xs font-bold text-gray-700 uppercase tracking-wider">Total (R)</div>
      <button class="btn btn-circle btn-outline btn-sm" disabled></button>
      <button class="btn btn-circle btn-error btn-sm" disabled></button>
    </div>

    <!-- Rows -->
    <div class="min-w-full divide-y divide-gray-200 space-y-5">
      <% tender_crane_selections.each do |tender_crane_selection| %>
        <div class="w-full">
          <%= render tender_crane_selection %>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="text-center my-10">No tender crane selections found.</p>
  <% end %>
  
  <!-- Add Row Button -->
  <div class="flex justify-end pt-4 pb-4">
    <%= form_with model: TenderCraneSelection.new, local: true, data: { turbo_stream: true } do |f| %>
      <%= f.hidden_field :tender_id, value: on_site_mobile_crane_breakdown.tender.id %>
      <%= f.hidden_field :on_site_mobile_crane_breakdown_id, value: on_site_mobile_crane_breakdown.id %>
      <%= f.submit "Add Row", class: "btn btn-primary btn-sm gap-2" %>
    <% end %>
  </div>
</div>
